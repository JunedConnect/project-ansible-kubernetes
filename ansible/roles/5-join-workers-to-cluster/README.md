5-Join-Workers-To-Cluster
==========================

Joins worker nodes to the Kubernetes control plane cluster using the join command generated by role 4. This role should only be executed on worker nodes after the control plane has been initialised. Tasks include: retrieving the join command and executing it on worker nodes.

Requirements
------------

- Ubuntu/Debian-based operating system
- Root or sudo access on target hosts
- Ansible 2.13.13
- Roles 1-prerequisites, 2-install-containerd, and 3-install-kubernetes must have been executed
- Role 4-initialise-kubeadm must have been executed on the control plane first

Role Variables
--------------

This role requires no user-defined variables. It uses the worker join command generated and stored by role 4-initialise-kubeadm.

Required Delegated Facts (from role 4):

- `hostvars['localhost']['worker_node_join_command']`: The kubeadm join command for worker nodes
  - Generated by role 4-initialise-kubeadm
  - Contains token and discovery token CA certificate hash

Dependencies
------------

- Role 1-prerequisites must be executed first
- Role 2-install-containerd must be executed second
- Role 3-install-kubernetes must be executed third
- **Role 4-initialise-kubeadm must be executed on control plane before this role**

Example Playbook
----------------

    - name: join-workers-to-cluster
      hosts: worker_nodes
      become: true
      roles:
        - { role: 5-join-workers-to-cluster }

License
-------

Apache-2.0

Author Information
------------------

Juned
